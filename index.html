<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>20/20 QR Scanner</title>
    <script src="https://unpkg.com/html5-qrcode"></script>
    <style>
        /* ... (previous styles remain unchanged) ... */

        #notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--secondary-color);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            display: none;
            animation: fadeInOut 2s ease-in-out;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0; }
            10%, 90% { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- ... (previous HTML content remains unchanged) ... -->

    <div id="notification">Item Scanned!</div>

    <script>
        // ... (previous JavaScript code remains unchanged) ...

        // Add these new functions and variables
        let audioContext;
        const notification = document.getElementById('notification');

        function initAudio() {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
        }

        function playBeep() {
            if (!audioContext) initAudio();
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
            gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);

            oscillator.start();
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        function showNotification() {
            notification.style.display = 'block';
            setTimeout(() => {
                notification.style.display = 'none';
            }, 2000);
        }

        // Modify the onScanSuccess function
        function onScanSuccess(decodedText) {
            console.log('Scanned item:', decodedText);
            if (!scannedItems.has(decodedText)) {
                scannedItems.add(decodedText);
                addItemToList(decodedText);
                playBeep();
                showNotification();
            } else {
                console.log('Item already scanned:', decodedText);
            }
        }

        // Add event listener to initialize audio on user interaction
        document.addEventListener('click', initAudio, { once: true });
    </script>
</body>
</html>
